(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{511:function(s,t,a){"use strict";a.r(t);var n=a(4),r=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("ol",[a("li",[a("p",[s._v("网络基础"),a("code",[s._v("TCP/IP")]),s._v(" 协议族")]),s._v(" "),a("ul",[a("li",[s._v("不同的硬件、操作系统之间的通信，所有的这一切都需要一种规则。而我们就把这种规则称为协议（protocol）")]),s._v(" "),a("li",[a("code",[s._v("TCP/IP")]),s._v("协议族，有了分层结构，总共分为下面四层 从上往下\n"),a("ul",[a("li",[s._v("应用层:   应用层决定了向用户提供应用服务时通信的活动。\n"),a("ul",[a("li",[s._v("FTP 文件传输协议")]),s._v(" "),a("li",[s._v("DNS域名系统")]),s._v(" "),a("li",[s._v("HTTP协议")])])]),s._v(" "),a("li",[s._v("传输层:   传输层对上层应用层，提供处于网络连接中的两台计算机之间的数据传输。\n"),a("ul",[a("li",[s._v("TCP 传输控制协议")]),s._v(" "),a("li",[s._v("UDP 用户数据报协议")])])]),s._v(" "),a("li",[s._v("网络层：网络互联层，用于处理在网络上流动的数据包，数据包是网络传输的最小数据单位，该层规定了通过怎样的传输路线，到达对方的计算机，并把数据包传送给对方。")]),s._v(" "),a("li",[s._v("链路层：又名网络接口层，数据链路层，用来处理网络的硬件部分。\n"),a("ul",[a("li",[s._v("操作系统")]),s._v(" "),a("li",[s._v("硬件的设备驱动")]),s._v(" "),a("li",[s._v("NIC 网卡")]),s._v(" "),a("li",[s._v("光纤")])])])])])])]),s._v(" "),a("li",[a("p",[s._v("TCP/IP 通信传输流")]),s._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.")]),s._v(" 客户端 发送\n\n  "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("HTTP")]),s._v("客户端（应用层） "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("TCP")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("传输层"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("IP")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("网络层"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("网络")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("链路层"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 其实在每一层 客户端都会给打上自己这一层的标记，包裹到上面，然后传输到下一层  就像 套娃一样   ")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.")]),s._v(" 服务器 接收\n\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("网络")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("链路层"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("IP")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("网络层"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("TCP")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("传输层"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("HTTP")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("服务器")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("应用层"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 服务器接收的时候，就会把套娃一个一个的揭开，拿到最里面一层的数据")]),s._v("\n\n         "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("以太网首部")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("IP")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("首部")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("TCP")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("首部")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("HTTP")]),s._v("数据"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n\n # 可以看到，客户端是从上往下走， 而服务器 是从下往上走\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("与HTTP 密切相关的协议： IP协议、TCP协议、DNS协议")])])]),s._v(" "),a("ul",[a("li",[a("p",[s._v("IP 协议 （Internet Protocol）")]),s._v(" "),a("ul",[a("li",[s._v("这里的IP 协议 不是IP地址， IP 地址只是IP协议的一部分")]),s._v(" "),a("li",[s._v("位于网络层，从上往下的第三层")]),s._v(" "),a("li",[s._v("IP 协议的作用是，是把各种数据包传送给对方，要确保确实能够传送到对方那里，需要满足各类条件其中最重要的两个是\n"),a("ul",[a("li",[s._v("IP地址： 指明了节点被分配到的地址。IP 地址可以和MAC地址进行匹配，IP地址可以变换")]),s._v(" "),a("li",[s._v("MAC地址：指网卡所属的固定的地址。MAC地址一般轻易不会改变的")])])]),s._v(" "),a("li",[s._v("如何根据IP 地址来查出对应的MAC地址，这个时候就需要用到ARP协议（Address Resolution Protocol）地址解析协议")])])]),s._v(" "),a("li",[a("p",[s._v("TCP协议")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("TCP协议位于传输层，也就是从上往下的第二层。")])]),s._v(" "),a("li",[a("p",[s._v("TCP 提供可靠的字节流服务")]),s._v(" "),a("ul",[a("li",[s._v("可靠是指，能够把数据准确的传递给对方。")]),s._v(" "),a("li",[s._v("字节流服务，是指，为了方便传输，将大块数据割成以报文段为单位的数据包进行管理。")])])]),s._v(" "),a("li",[a("p",[s._v("为了准确无误的将数据送达到目标处  "),a("strong",[s._v("TCP协议采用了三次握手策略")]),s._v("， 使用SYN 和 ACK 两个标志：  其实就是为了知道双方的接收和发送都是正常的")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("发送端，发送一个带SYN标志的数据给接收端。SYN=1  顺序号seq = x    此时 服务器，知道自己接收正常，    完成第一次握手")])]),s._v(" "),a("li",[a("p",[s._v("接收端，接收后，回带一个SYN/ACK 标记的数据包以示，此时 SYN = 1  ACK =  1   seq = y   ack =  x + 1    客户端知道自己发送、接收正常，服务器接收、发送正常   完成第二次握手")])]),s._v(" "),a("li",[a("p",[s._v("发送端，拿到SYN/ACK 之后 ， 发送一个带 ACK标记的数据包给接收端，  .seq=x+1,ACK=1,ack=y+1  服务器知道客户端发送，接收正常，自己接收，发送也正常   代表握手结束。 完成第三次握手")]),s._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[s._v("# 简单说明一下 为啥需要三次握手，  主要的目的就是为了证明，发送端 和 接收端   的    发送和接收功能  都是正常的\n\n "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ACK：确认序号的标志，ACK=1表示确认号有效，ACK=0表示报文不含确认序号信息")]),s._v("\n\n "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// SYN：连接请求序号标志，用于建立连接，SYN=1表示请求连接")]),s._v("\n\n \n\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.")]),s._v("   客户端  发送"),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("SYN")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("  seq "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" x 到  服务器 \n    此时 客户端不知道自己发送是否正常，     服务器知道自己的接收是正常的\n    #  客户端： 发送未知，  接收未知\n    #  服务器： 发送未知，  接收"),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("OK")]),s._v("\n    \n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("   服务器  发送  "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("SYN")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("ACK")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("   seq "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" y  ack "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("x"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("  到 发送 客户端\n    此时  服务器知道自己接收正常，不知道自己发送是否正常；  客户端知道自己接收和发送都正常\n    \n    # 客户端： 发送"),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("OK")]),s._v("， 接收"),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("OK")]),s._v("\n    # 服务器： 发送未知，接收"),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("OK")]),s._v(" \n    \n    \n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("   客户端将 "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("ACK")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("  seq "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" x "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("  ack "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" y "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" 发送到服务器\n    此时，服务器就知道自己上一次的发送也是正常的\n    \n    # 客户端： 发送"),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("OK")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("  接收"),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("OK")]),s._v("\n    # 服务器： 发送"),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("OK")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("  接收"),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("OK")]),s._v("\n    \n    \n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br")])])])])]),s._v(" "),a("li",[a("p",[s._v("当这个TCP连接 不需要的时候，双方就会协商断开，"),a("strong",[s._v("四次挥手")])]),s._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[s._v("# 四次挥手的目的 是为了告知双方，要断开连接了，做好准备工作\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 在挥手之前 两个的状态都是ESTABLISHED 已建立连接的状态")]),s._v("\n\n "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//  FIN：结束标志，用于释放连接，为1表示关闭本方数据流 ")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.")]),s._v(" 客户端发起要断开连接的请求  "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("FIN")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" seq"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("u   到服务器   此时 客户端的状态变为 "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("FIN")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("WAIT")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.")]),s._v(" 服务器接收到客户端的信息之后，发送"),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("ACK")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" ack"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("u"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" seq"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("v  服务器 变为"),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("CLOSE")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("WAIT")]),s._v("状态  \n   客户端接收到服务器的信息之后 将自己的状态改为 "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("FIN")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("WAIT")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.")]),s._v(" 服务器发送"),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("FIN")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("ACK")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" ack"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("u"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" seq"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("w 然后 服务器变为"),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("LAST")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("ACK")]),s._v(" 最后确认状态\n   客户端接收到服务端的信息之后，将自己的状态变为"),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("TIME")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("WAIT")]),s._v(" \n\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4.")]),s._v(" 客户端发送 "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("ACK")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("，ack"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("w"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("  seq"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("u"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("  到服务器，服务器收到确认状态变为 "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("CLOSED")]),s._v(" ，  客户端也变为"),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("CLOSED")]),s._v("\n\n\n\n简单点 就是说： "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" 客户端告诉服务器 我要关闭连接了，此时 状态变为"),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("FIN")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("WAIT")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n             "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" 服务器告诉客户端，好的我知道了，我要做个准备，变为"),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("CLOSE")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("WAIT")]),s._v(" ， 客户端知道了，然后改变自己的状态为"),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("FIN")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("WAIT")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\n             "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" 服务器告诉客户端，我做好准备了，要关闭了 变为 "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("LAST")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("WAIT")]),s._v("；  客户端知道要关闭了 把自己的状态改为"),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("TIME")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("WAIT")]),s._v("\n             "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" 客户端告诉服务器，你关闭吧，然后等待"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("MSL 待服务器关闭后，客户端也就关闭了\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("问题")]),s._v(" "),a("ul",[a("li",[a("ol",[a("li",[a("p",[s._v("为什么握手是三次，挥手是四次")]),s._v(" "),a("p",[s._v('TCP建立连接时之所以只需要"三次握手"，是因为在第二次"握手"过程中，服务器端发送给客户端的TCP报文是以SYN与ACK作为标志位的。SYN是请求连接标志，表示服务器端同意建立连接；ACK是确认报文，表示告诉客户端，服务器端收到了它的请求报文。')]),s._v(" "),a("p",[s._v('即SYN建立连接报文与ACK确认接收报文是在同一次"握手"当中传输的，所以"三次握手"不多也不少，正好让双方明确彼此信息互通。')])]),s._v(" "),a("li",[a("p",[a("strong",[s._v("为什么客户端在TIME-WAIT阶段要等2MSL?")])]),s._v(" "),a("p",[s._v("为的是确认服务器端是否收到客户端发出的ACK确认报文")]),s._v(" "),a("p",[s._v("当客户端发出最后的ACK确认报文时，并不能确定服务器端能够收到该段报文。所以客户端在发送完ACK确认报文之后，会设置一个时长为2MSL的计时器。MSL指的是Maximum Segment Lifetime：一段TCP报文在传输过程中的最大生命周期。2MSL即是服务器端发出为FIN报文和客户端发出的ACK确认报文所能保持有效的最大时长。")]),s._v(" "),a("p",[s._v("服务器端在1MSL内没有收到客户端发出的ACK确认报文，就会再次向客户端发出FIN报文；")])])])])])])])]),s._v(" "),a("li",[a("p",[s._v("DNS 域名解析服务")]),s._v(" "),a("ul",[a("li",[s._v("DNS服务位于应用层，从上往下第一层。")]),s._v(" "),a("li",[s._v("提供了，域名到IP 地址 之间的解析服务， 或者从IP 反查域名。  详细的介绍可以去Node基础介绍里面去看")])])])]),s._v(" "),a("ol",{attrs:{start:"4"}},[a("li",[a("p",[s._v("各个协议与HTTP协议之间的关系")]),s._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[s._v("发送端想要访问某个地址 例如 http"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("www"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("baidu"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("com\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("DNS")]),s._v("服务， 让"),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("DNS")]),s._v("服务查询到  网址对应的"),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("IP")]),s._v("地址              应用层\n\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("HTTP")]),s._v("协议，将针对这个"),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("IP")]),s._v("地址，目标web服务器，生成"),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("HTTP")]),s._v("请求报文   应用层\n\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("TCP")]),s._v("协议，将"),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("HTTP")]),s._v("协议的请求报文，分割成多个报文段，然后与对方进行三次握手。  传输层\n\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4.")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("IP")]),s._v("协议，通过"),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("IP")]),s._v("地址，查询到对方"),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("MAC")]),s._v("地址，也就是物理地址， 因为"),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("IP")]),s._v("协议会变化，"),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("MAC")]),s._v("地址不常变，所以需要使用"),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("ARP")]),s._v("协议，来解析地址， "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("IP")]),s._v("协议最后一遍中转，一边将数据包传送到接收端     网络层\n\n\n接收端 接收发送端 发送过来的数据的过程\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("TCP")]),s._v("协议，拿到发送端发送的报文段，将报文段重组，恢复成分割前的报文  传输层\n\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("HTTP")]),s._v("协议，对报文进行分析处理   应用层\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("URI  和 URL")])])]),s._v(" "),a("ul",[a("li",[a("p",[s._v("URI  统一资源标识符  Uniform Resource Identifier")]),s._v(" "),a("ul",[a("li",[s._v("Uniform  规定统一的格式，方便处理不同类型的资源，而不用根据上下文环境来识别资源指定的访问方式   http:,   ftp:   等。")]),s._v(" "),a("li",[s._v("Resource  资源， 可标识的任何东西，  可以是单一的，也可是多数的集合体。")]),s._v(" "),a("li",[s._v("Identifier:   表示可标识的对象")])]),s._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.")]),s._v(" ftp"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("ftp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("is"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("co"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("za"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("rfc"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("rfc1808"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("txt\n\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.")]),s._v(" http"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("www"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ietf"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("org"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("rfc"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("rfc2396"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("txt\n\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.")]),s._v("ldap"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2001")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("db8"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("c"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("GB")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("?")]),s._v("objectClass"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("?")]),s._v("one\n\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4.")]),s._v(" mailto"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("John"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Doe@example"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("com\n\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5.")]),s._v(" news"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("comp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("infosystems"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("www"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("servers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("unix\n\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6.")]),s._v(" tel"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("816")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("555")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1212")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7.")]),s._v(" telnet"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token regex"}},[s._v("/192.0.2.16:80/")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8.")]),s._v(" urn"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("oasis"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("names"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("specification"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("docbook"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("dtd"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("xml"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4.1")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v(".2")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("URL 统一资源定位符")])])]),s._v(" "),a("p",[s._v("​")])])}),[],!1,null,null,null);t.default=r.exports}}]);