(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{490:function(s,n,t){s.exports=t.p+"assets/img/more_table_foreign_references.3103991d.jpg"},491:function(s,n,t){s.exports=t.p+"assets/img/more_table_foreign_references2.86e68e77.jpg"},530:function(s,n,t){"use strict";t.r(n);var a=t(4),e=Object(a.a)({},(function(){var s=this,n=s.$createElement,a=s._self._c||n;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("ol",[a("li",[s._v("什么是数据完整性")])]),s._v(" "),a("ul",[a("li",[s._v("保证用户输入的数据保存到数据库是正确的")])]),s._v(" "),a("ol",{attrs:{start:"2"}},[a("li",[a("p",[s._v("如何添加数据完整性")]),s._v(" "),a("ul",[a("li",[s._v("在创建表时给表中添加约束")])])]),s._v(" "),a("li",[a("p",[s._v("完整性分类")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("实体完整性：表中的一行 代表一个实体")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("作用：标识每一行的数据不重复，行级约束")])]),s._v(" "),a("li",[a("p",[s._v("约束类型")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("主键约束： 每个表中要有一个主键， 数据唯一且不能为null")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("添加方式")]),s._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 建一个表名为student的表 id 为主键约束 方法1")]),s._v("\ncreate table "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("student")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])])])]),s._v(" "),a("p",[s._v("id bigint primary key,\nstu_name varchar(50),\nstu_age int\n);")]),s._v(" "),a("p",[s._v("// 方法2\ncreate table student(\nid bigint,\nstu_name varchar(50),\nstu_age int,\nprimary key(id)  // 指定id\n);")]),s._v(" "),a("p",[s._v("// 方法3 联合主键  两个列的数据组合成主键\ncreate table student(\nid bigint,\nstu_name varchar(50),\nstu_age int,\nprimary key(id，stu_age)  // 指定id   只有两个记录的这两个数据都是一样的时候，才违反约束\n);")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("\n\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("唯一约束")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("特点： 指定列的数据不能重复， 可以为空值")])]),s._v(" "),a("li",[a("p",[s._v("格式")]),s._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 加入unique 可以任意个唯一约束")]),s._v("\ncreate table "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("student")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n   id bigint unique"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n   stu_name "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("varchar")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("50")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" unique"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n   stu_age int\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])])])])]),s._v(" "),a("li",[a("p",[s._v("自动增长列")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("特点： 指定列的数据自动增长。 即使数据删除。还是从删除的序号继续往下")])]),s._v(" "),a("li",[a("p",[s._v("格式")]),s._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// auto_increment 可以任意个唯一约束")]),s._v("\ncreate table "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("student")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n   id bigint auto_increment"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n   stu_name "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("varchar")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("50")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" unique"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n   stu_age int\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])])])])])])])])]),s._v(" "),a("li",[a("p",[s._v("域完整性: 一个单元格就属于一个域")]),s._v(" "),a("ul",[a("li",[s._v("约束\n"),a("ul",[a("li",[s._v("数据类型")]),s._v(" "),a("li",[s._v("非空 not null")]),s._v(" "),a("li",[s._v("默认值约束 default")])])])])]),s._v(" "),a("li",[a("p",[s._v("参照完整性（设置外键）")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("定义： 两列值n1, n2，如果n2 参照n1的值，那么n2的每个值都只能在n1这个列已有的值里面，不能有不存在于n1的值")])]),s._v(" "),a("li",[a("p",[s._v("特点： 两个字段的类型必须是一致的")]),s._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 添加外键约束  n2 参考 n1     fk_num1_num2 为外键名字")]),s._v("\nalter table test1 add constraint fk_num1_num2  foregin "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("key")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("n2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" references "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("test1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("n1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("多表外键的参照约束")]),s._v(" "),a("p",[a("img",{attrs:{src:t(490),alt:""}})]),s._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 可以将原先一张复杂的表例如 学生的信息和成绩 拆成两张表 一张学生的基本信息表  一个学生的成绩表")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 但是需要对两张表进行关联，每一个学生都能对应到自己的成绩上")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 需要在可视化工具中进行选择")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// sid 参考 stu表下的id 这一列")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("p",[a("img",{attrs:{src:t(491),alt:""}})])])])])])])])])}),[],!1,null,null,null);n.default=e.exports}}]);